<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMR Calculator</title>
    <link rel="stylesheet" href= "styleSheet\stylesheet.css">
</head>

<body>
    <main id="mainBackground">
        <section id="mainBox">
            <article id="formBox">
                <h1 id="notRobotoFont">BMR CALCULATOR</h1>
                <hr>
                <div id="formFlex">
                    <label for="height" class="normalRobotoFont">Heigth (cm):</label>
                    <input type="number" name="height" id="height" class="inputBox normalRobotoFont" required/>

                    <label for="weight" class="normalRobotoFont">Weight (kg):</label>
                    <input type="number" name="weight" id="weight" class="inputBox normalRobotoFont" required/>

                    <label for="age" class="normalRobotoFont">Age:</label>
                    <input type="number" name="age" id="age" class="inputBox normalRobotoFont" required/>

                    <label for="gender" class="normalRobotoFont">Gender:</label>
                    <select name="gender" id="gender" class="inputBox normalRobotoFont">
                        <option class="inputBox"  name="female" id="female">Female</option>
                        <option class="inputBox"  name="male" id="male">Male</option>
                    </select>

                    <p id="result" class="semiBoldRobotoFont resultFlex">Insert Your Data</p>
                    
                    <div id="buttonFlex">
                        <button id="myButton" class="boldRobotoFont">CALCULATE</button>
                    </div>

                </div>
            </article>
            <aside id="imageBox">
                <figure>
                    <img src="images\figure.png" alt="a figure of a woman thinking about food" id="image">
                </figure>
            </aside>
        </section>
    </main>

    <script>

        // The formula for men is: BMR = 88.362 + (13.397 x weight in kg) + (4.799 x height in cm) - (5.677 x age in years). The formula for women is: BMR = 447.593 + (9.247 x weight in kg) + (3.098 x height in cm) - (4.330 x age in years)

        document.getElementById("myButton").onclick = function() {
            let heightValue = document.getElementById("height").value;
            let weightValue = document.getElementById("weight").value;
            let ageValue = document.getElementById("age").value;
            let genderValue = document.getElementById("gender").value;

            let myRegex = /[^0-9]/g;
            let myRegexGender = /[^Female | Male]/g;

            let result = myRegex.test(heightValue);
            let result1 = myRegex.test(weightValue);
            let result2 = myRegex.test(ageValue);
            let result3 = myRegexGender.test(genderValue);

            if (result === true || result1 === true || result2 === true || result3 === true) {
                document.getElementById("result").innerHTML = "INVALID DATA, CHECK YOUR INPUTS AND TRY AGAIN."
            } else {
                let finalResult;
                if (genderValue === "Male") {
                    finalResult = 88.362 + (13.8397 * weightValue) + (4.799 * heightValue) - (5.677 * ageValue);
                } else {
                    finalResult = 447.593 + (9.247 * weightValue) + (3.098 * heightValue) - (4.330 * ageValue);
                }
                
                document.getElementById("result").innerHTML = "Your BMR is " + Math.floor(finalResult) + " calories!"
            
            }
        };
    </script>
</body>

</html>